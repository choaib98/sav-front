<div class="flex flex-col flex-auto min-w-0" >

  <!-- Header -->
    <div class="flex flex-col flex-auto min-w-0 overflow-hidden" [@fadeInRight]="{value:'', params: {duration: 700}}">
        <div class="px-5 sm:px-16 py-10 sm:pt-18 sm:pb-20">
            <div class="w-full max-w-400 mx-auto">
                <div class="flex flex-row">
                    <div>
          <span class="text-2xl md:text-4xl uppercase font-extrabold leading-tight tracking-tight text-primary">
            Mes crédits
          </span>
                        <div class="max-w-xl mt-2 text-xl text-secondary mb-10">
                            Vous avez ({{dossiers.length}}) crédits en cours
                        </div>
                    </div>
                </div>

                <span style="display:none">{{dossiers[0].dossierId}}</span>

                <ng-container *ngIf="dossiers && dossiers.length > 0; else noCredits">

                    <div class="flex flex-col items-center space-y-10 mt-10 md:mt-1">



                        <ng-container *ngFor="let dossier of dossiers; let i = index; trackBy: trackByFn">

                            <fuse-card class="flex flex-col md:flex-row md:w-5/6">
                                <div class="flex flex-col md:w-2/3 px-5 md:px-10 pt-8 pb-6">
                                    <!-- titre -->
                                    <div class="flex items-center">
                                        <div class="flex items-center justify-center h-16 w-16 rounded-full font-medium text-center leading-none bg-primary-500">
                                            <mat-icon class="icon-size-12 text-on-primary" [svgIcon]="'heroicons_solid:document-text'"></mat-icon>
                                        </div>
                                        <div class="ml-6 text-2xl font-bold leading-tight uppercase">Dossier N° {{dossier.dossierId}}</div>
                                    </div>

                                    <!-- données -->
                                    <div class="flex flex-col max-md:space-y-5 md:flex-row items-center md:justify-evenly mt-8">
                                        <div class="flex flex-col items-center">
                                            <span class="font-medium">Montant du crédit</span>
                                            <span class="text-3xl font-semibold">{{dossier.montantDossier}}</span>
                                        </div>

                                        <div class="flex flex-col items-center">
                                            <span class="font-medium">Durée</span>
                                            <span class="text-3xl font-semibold">{{dossier.duree}}</span>
                                        </div>

                                        <div *ngIf="dossier.total_impaye !== null" class="flex flex-col items-center text-warn">
                                            <span class="font-medium">Total des impayés</span>
                                            <span class="text-3xl font-semibold">{{dossier.total_impaye}}</span>
                                        </div>
                                    </div>

                                    <div class="flex flex-col max-md:space-y-5 md:flex-row items-center md:justify-evenly mt-8">
                                        <div class="flex flex-col items-center">
                                            <span class="font-medium">Cin</span>
                                            <span class="text-3xl font-semibold">{{dossier.cin}}</span>
                                        </div>

                                        <div class="flex flex-col items-center">
                                            <span class="font-medium">Email</span>
                                            <span class="text-3xl font-semibold">{{dossier.email}}</span>
                                        </div>

                                        <div class="flex flex-col items-center">
                                            <span class="font-medium">Date de crédit</span>
                                            <span class="text-3xl font-semibold">{{dossier.dateCredit | date}}</span>
                                        </div>
                                    </div>

                                    <!-- progress durée -->
                                    <div class="mt-5">
                                        <span class="font-medium">Durée restante : {{dossier.dureeRestante}} mois</span>
                                        <mat-progress-bar
                                            class="mt-3 rounded-full"
                                            style=" calc(({{ dossier.duree - dossier.dureeRestante }} / {{ dossier.duree }}) * 100%)" title="{{dossier.duree - dossier.dureeRestante}} mois payé sur {{dossier.duree}} mois"
                                            [mode]="'determinate'"
                                            [value]="((dossier.duree - dossier.dureeRestante) * 100) / dossier.duree"></mat-progress-bar>
                                    </div>

                                    <!-- Actions -->



                                    <div *ngIf="dossier.total_impaye !== 0"
                                         class="mt-7 flex flex-row space-x-2 py-2 px-4 rounded-md overflow-hidden shadow bg-warn-100">
                                        <mat-icon class="icon-size-5 text-warn-600" [svgIcon]="'heroicons_outline:exclamation'">
                                        </mat-icon>
                                        <span class="text-md font-semibold">Merci d'alimenter votre compte bancaire ou d'effectuer un versement en faveur de WAFAIMMOBILIER sur le compte N° 007 780 00 02 38 200 0 170010 80 ou par le code SWIFT: BCMAMAMC.
                                    </span>
                                    </div>
                                </div>


                                <!-- right -->
                                <div class="relative w-full md:w-1/3 bg-gray-200 px-5 pt-8 pb-6">

                                    <img class="absolute inset-0 object-cover h-full opacity-20" src="assets/images/admin/mes-credits/sav.jpg">

                                    <!-- titre -->
                                    <div class="relative z-20 flex items-center">
                                        <div class="flex items-center justify-center h-16 w-16 rounded-full font-medium text-center leading-none bg-second-500">
                                            <mat-icon class="font-bold icon-size-14 text-black -mt-2" svgIcon="mat_solid:build">
                                            </mat-icon>
                                        </div>
                                        <div class="ml-6 text-2xl font-bold leading-tight uppercase">Opérations SAV</div>
                                    </div>

                                    <span style="display:none">{{operations[0].operationId}}</span>

                                    <div class="relative z-20 mx-auto max-w-100 grid grid-cols-2 gap-x-5 gap-y-3 mt-7">
                                        <ng-container *ngFor="let operation of operations">
                                            <button

                                                (click)="upload(operation.operationId,dossier.dossierId)"
                                                class="btn group px-2 py-3 flex flex-col items-center bg-black/[.7] rounded-2xl cursor-pointer transition-transform duration-500 ease-in-out hover:scale-[1.07] hover:bg-second-500">
                                                <mat-icon class="icon-size-10 mb-3 text-white group-hover:text-black" [svgIcon]="'heroicons_solid:clipboard-check'"></mat-icon>
                                                <span class="font-semibold text-white group-hover:text-black">{{ operation.nomOperation }}</span>
                                            </button>
                                        </ng-container>

                                        <button
                                            (click)="openComposeDialog(dossier.dossierId)"
                                            class="btn group px-2 py-3 flex flex-col items-center justify-center bg-black/[.7] rounded-2xl cursor-pointer transition-transform duration-500 ease-in-out hover:scale-[1.07] hover:bg-second-500">
                                            <mat-icon class="icon-size-10 text-white group-hover:text-black" [svgIcon]="'heroicons_outline:dots-horizontal'"></mat-icon>
                                            <!-- <span class="font-bold text-white group-hover:text-black">Opér SAV 4</span> -->
                                        </button>

                                    </div>


                                </div>


                            </fuse-card>

                        </ng-container>
                    </div>
                </ng-container>

  <!-- Main -->





<!--affichage de dossier-->
<!-- <div class="flex overflow-x-auto"  >
  <div class="flex-shrink-0 w-64 mx-4" *ngFor="let dossier of dossiers">
    <div class="bg-white rounded-lg shadow-md p-4" >
      <fuse-card class="flex flex-col max-w-80 w-full filter-article" >

          <div class="m-8">
              <div class="text-2xl font-semibold leading-tight"  >N° DOSSIER : {{dossier.dossierId}}</div>
              <div class="text-2xl font-semibold leading-tight"  >EMAIL : {{dossier.email}}</div>
              <div class="text-2xl font-semibold leading-tight"  >CIN : {{dossier.cin}}</div>

              <button
                  class="px-6 mt-8"
                  mat-flat-button
                  [color]="'primary'"
                  src="assets/images/avatars/male-04.jpg"
                  (click)="operation()"
                  [routerLink]="['./']">
                  Operation
              </button>
          </div>
      </fuse-card>
    </div>
  </div> -->

                    </div>
                </div>

</div>
</div>
